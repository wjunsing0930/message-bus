一个基于 Rust 实现的高性能、类型安全的异步发布/订阅消息总线系统，灵感来源于 NautilusTrader 的核心架构设计。

## 项目结构
```
message-bus/
├── Cargo.toml
└── src/
    ├── main.rs                 # 主程序：负责组装和启动整个系统，是所有组件的编排器
    ├── actor.rs                # Actor 模块：定义了系统中所有独立组件（Actor）的通用生命周期 trait
    ├── bus.rs                  # 消息总线模块：提供了整个系统的核心通信中枢 MessageBus
    ├── data.rs                 # 数据引擎模块：模拟一个实时数据源，作为消息的生产者
    ├── execution.rs            # 执行引擎模块：模拟与交易所的交互，处理订单请求并产生撮合成交事件
    ├── message.rs              # 消息模块：定义了系统内部通信所使用的所有消息类型
    └── strategy.rs             # 策略模块：实现交易策略逻辑，是消息的消费者和生产者
```

## 核心特性
- **类型安全**: 使用 Rust 的类型系统确保消息传递的安全性
- **高性能**: 基于 `tokio::sync::broadcast` 实现的零拷贝消息分发
- **异步非阻塞**: 完全异步的发布/订阅模式
- **模块化设计**: 清晰的组件分离和职责划分
- **线程安全**: 支持多线程环境下的安全消息传递

## 架构设计
### 消息总线 (MessageBus)
- 使用 `TypeId` 和类型擦除实现多类型消息通道管理
- 采用读写锁优化并发性能
- 支持动态通道创建和订阅

### Actor 模式
- 统一的组件生命周期管理
- 异步启动和优雅关闭
- 消息驱动的组件通信

### 消息类型
- `Bar`: 行情数据消息
- `OrderRequest`: 订单请求消息  
- `FillEvent`: 成交回报消息
- 支持自定义消息类型扩展

## 运行
```bash
cargo run
```

## 使用场景
- 量化交易系统
- 事件驱动架构
- 微服务通信
- 实时数据处理
- 高性能消息系统

## 设计理念
采用事件驱动架构，通过类型安全的消息总线实现组件间的松耦合通信。


<img width="1372" height="768" alt="image" src="https://github.com/user-attachments/assets/8a67da9a-ed81-45b1-8b02-b781bfc54819" />
